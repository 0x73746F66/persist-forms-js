!function(e,t,i){var n=function r(n){return e===this?new r(n):(this.options=t.extend({},this.options,n),t.fn.serializeObject=function(){var e=this,n={},r={},a={validate:/^[a-zA-Z][a-zA-Z0-9_]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,key:/[a-zA-Z0-9_]+|(?=\[\])/g,push:/^$/,fixed:/^\d+$/,named:/^[a-zA-Z0-9_]+$/};return this.build=function(e,t,i){return e[t]=i,e},this.push_counter=function(e){return r[e]===i&&(r[e]=0),r[e]++},t.each(t(this).serializeArray(),function(){if(a.validate.test(this.name)){for(var r,o=this.name.match(a.key),s=this.value,c=this.name;(r=o.pop())!==i;)c=c.replace(new RegExp("\\["+r+"\\]$"),""),r.match(a.push)?s=e.build([],e.push_counter(c),s):r.match(a.fixed)?s=e.build([],r,s):r.match(a.named)&&(s=e.build({},r,s));n=t.extend(!0,n,s)}}),n},this)};n.fn=n.prototype={init:function(){var e=this;return t(document).on("input change","form[id] input,form[id] select,form[id] textarea",function(){var e=t(this).parent("form");PersistFormsInstance.db(e.prop("id"),e.serializeObject())}),t("form[id]").each(function(){var i=t(this),n=e.db(i.prop("id"));t("form[id] input,form[id] select,form[id] textarea").each(function(){var e=t(this),i=e.prop("name").replace(/\[\]+$/,"");if(null!==n&&n[i])if("SELECT"===this.tagName&&this.multiple)for(var r=0;r<n[i].length;r++)e.children("option").filter('[value="'+n[i][r]+'"]').prop("selected","selected");else if("radio"===this.type||"checkbox"===this.type)for(var a=0;a<n[i].length;a++)e.filter('[value="'+n[i][a]+'"]').prop("checked","checked");else e.val(n[i])})}),this},isJSON:function(e){return"string"!=typeof e||""===e?!1:/^[\],:{}\s]*$/.test(e.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))},createCookie:function(e,t,i,n,r){"undefined"==typeof i&&(i=365),"string"!=typeof t&&(t=JSON.stringify(t));var a=e+"="+escape(t)+";";return i&&(i instanceof Date?isNaN(i.getTime())&&(i=new Date):i=new Date((new Date).getTime()+1e3*parseInt(i)*60*60*24),a+="expires="+i.toGMTString()+";"),n&&(a+="path="+n+";"),r&&(a+="domain="+r+";"),document.cookie=a,a},getCookie:function(e){var t=new RegExp("(?:^"+e+"|;s*"+e+")=(.*?)(?:;|$)","g"),i=t.exec(document.cookie);return null===i?null:this.isJSON(unescape(i[1]))?JSON.parse(unescape(i[1])):unescape(i[1])},db:function(t,i){var n;return function(){var t="testHasLocalStorage";try{return e.localStorage.setItem(t,t),e.localStorage.removeItem(t),!0}catch(i){return!1}}()===!0?"undefined"==typeof i?(n=e.localStorage.getItem(t),this.isJSON(n)?JSON.parse(n):n):e.localStorage.setItem(t,"string"!=typeof i?JSON.stringify(i):i):"undefined"==typeof i?(n=this.getCookie(t),this.isJSON(n)?JSON.parse(n):n):this.createCookie(t,"string"!=typeof i?JSON.stringify(i):i)}},e.PersistForms=n,PersistFormsInstance=(new n).init()}(window,jQuery);
//# sourceMappingURL=persistForms.min.js.map